<x-audio-sound-load track-id="buzzer"
  src="/assets/buzzer.wav"
  discard="none">
</x-audio-sound-load>

<div class="content">
  <h1>Sounds</h1>
  <p class="lead">This page has on-demand sounds configured to play when buttons
    are clicked. </p>
  <h2>Add sound-effects or voice-overs declaratively</h2>
  <p> Sounds are a little different than music. We don't loop sounds and they
    need to play on-demand. There are ways to trigger them, but this page
    attaches them to a button. </p>
  <h3>First: Preload</h3>
  <p> To get the timing perfect, we have to pre-load all sounds for a route
    using the <a href="/components/x-audio-sound-load">
      <b>&lt;x-audio-sound-load&gt;</b>
    </a> component. The default mode for sounds is load. This gets the audio
    ready to play and waits for the start command. </p>

  <x-content-markdown>
    <script type="text/markdown">
      ```html
      <x-audio-sound-load
        track-id="buzzer"
        src="/assets/buzzer.wav"
        discard="none">
      </x-audio-sound-load>
      ```
      > We set the discard to **none** to tell the player not to discard
      > the sound after it has played, so it can be played again.
    </script>
  </x-content-markdown>

  <h3 class="mt-3">Then: Activate</h3>
  <p> We play the sound by sending an <a href="/actions">action </a> with start
    command. We can use the <a href="/components/x-action-activator">
      <b>&lt;x-action-activator&gt;</b>
    </a> element and special <a href="/components/x-audio-sound-action">
      <b>&lt;x-audio-sound-action&gt;</b>
    </a> elements with the command, and track-id. </p>
  <p>
    <x-action-activator activate="on-element-event">
      <x-audio-sound-action command="start"
        track-id="buzzer"> </x-audio-sound-action>
      <button type="button"
        class="btn btn-info">
        <i class="ri-play-circle-line"></i> Sound </button>
    </x-action-activator>
  </p>

  <x-content-markdown>
    <script type="text/markdown">
      ```html
      <x-action-activator
        activate="on-element-event">
        <x-audio-sound-action
          command="start"
          track-id="buzzer">
        </x-audio-sound-action>
        <button type="button"
          class="btn btn-info">
          Sound
        </button>
      </x-action-activator>
      ```
      > We set the activator to **multiple** so it allows us to send
      > the same action more than once. By default, this is not allowed.
    </script>
  </x-content-markdown>
  <footer>
    <a slot="start"
      href="/audio/music"
      class="btn btn-secondary">&lt; Music</a>
    <a slot="end"
      href="/audio/both"
      class="btn btn-secondary">Music & SoundS &gt;</a>
  </footer>
</div>
